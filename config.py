"""
–≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Dev-bot.
"""

import os

import disnake
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env
load_dotenv()


def get_env_variable(name: str, default: str = "NULL") -> str:
    """
    –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.
    –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    """
    value = os.getenv(name)
    if not value:
        print(
            f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: {name} –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ñ–∞–π–ª–µ .env. "
            f"–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: {default}"
        )
        return default
    return value


# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è
DISCORD_TOKEN = get_env_variable("DISCORD_TOKEN")
GIT_PAT_TOKEN = get_env_variable("GIT_PAT_TOKEN")
API_KEY_ROBLOX = get_env_variable("API_KEY_ROBLOX")
PRIVATE_KEY_ID_GOOGLE = get_env_variable("PRIVATE_KEY_ID_GOOGLE")
PRIVATE_KEY_GOOGLE = get_env_variable("PRIVATE_KEY_GOOGLE").replace('\\n', '\n')
SPREADSHEET_ID_GOOGLE = get_env_variable("SPREADSHEET_ID_GOOGLE")

LOG_TECH_CHANNEL = 1374529148474622085  # ID –∫–∞–Ω–∞–ª–∞ —Å –ª–æ–≥–∞–º–∏
BACKUP_CHANNEL_ID = 1374736085929820191 # ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ —Å–ª—É—á–∞–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
GUILD_ID = 1374389368315449477          # ID Discord —Å–µ—Ä–≤–µ—Ä–∞
SHUTDOWN_TIMER = 5 * 60 * 60 + 56       # –í—Ä–µ–º—è 5—á 56–º–∏–Ω, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –±—É–¥–µ—Ç —Ä–µ—Å—Ç–∞—Ä—Ç
ONLINE_MEMBER_CHANNEL = 1388564716288344075 # –ì–æ. –∫–∞–Ω–∞–ª –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ–Ω–ª–∞–π–Ω
ALL_MEMBER_CHANNEL = 1388564649489993728    # –ì—Å. –∫–∞–Ω–∞–ª –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –æ–±—â–µ–µ –∫–æ–ª-–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

AUTHOR = 'ProjectDeltaRP'
REPO = 'AnagiriumBot'

# –ê–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º –±–æ—Ç–∞
FULL_PERMISSION_USERS = [328502766622474240, 375256003723132938]


# –ö–ª—é—á–∏ –∞–π–¥–∏ —Ä–æ–ª–µ–π, –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–∞–º (–í–∑—è—Ç—ã —Ä–∞–Ω–¥–æ–º–Ω—ã–µ –∞–π–¥–∏ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
ROLE_WHITELISTS = {
    # –ö–ª—é—á–∏ ID —Ä–æ–ª–µ–π –¥–ª—è –≤–∞–π—Ç–ª–∏—Å—Ç–æ–≤
    "super_head_project": [
        1374393293646860419, # [üëë] –í—ã—Å—à–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
    ],
    "head_project": [
        1387477629820735498, # [üëë] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
    ],
    "general_administrations": [
        1374465376548683930, # [üõ°Ô∏è] –ò–≥—Ä–æ–≤–∞—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è
    ],
    "senior_admin": [
        1387464129668972594, # [üõ°Ô∏è] –°—Ç. –∏–≥—Ä–æ–≤–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
    ],
    "middle_admin": [
        1387464129668972594, # [üõ°Ô∏è] –°—Ç. –∏–≥—Ä–æ–≤–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
        1374465770926506076, # [üõ°Ô∏è] –ò–≥—Ä–æ–≤–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
    ],
}

# –ê–π–¥–∏ —Ä–æ–ª–µ–π –¥–∏—Å–∫–æ—Ä–¥–∞
DEPARTMENT_ROLES = {
    "ad": {
        "group": 1375433339242025040,                   # ‚óÄ‚óÄ  [üóíÔ∏è] –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–ª—É–∂–±–∞  ‚ñ∂‚ñ∂
        "ranks": {
            "control": 1375435641751339113,             # [üóíÔ∏è] –ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—Ü–µ–¥—É—Ä
            "sector": 1375435639075373098,              # [üóíÔ∏è] –°–µ–∫—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π
            "director": 1375435632033267832,            # [üóíÔ∏è] –î–∏—Ä–µ–∫—Ç–æ—Ä –∑–æ–Ω—ã
        },
    },
    "sd": {
        "group": 1375432802564177981,                   # ‚óÄ‚óÄ  [üõ°Ô∏è] –°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  ‚ñ∂‚ñ∂
        "ranks": {
            "cadet": 1375436641430278227,               # [üõ°Ô∏è] –ö–∞–¥–µ—Ç —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            "officer": 1375436645729435749,             # [üõ°Ô∏è] –û—Ñ–∏—Ü–µ—Ä —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            "bio_officer": 1375436637256941598,         # [üõ°Ô∏è] –û—Ñ–∏—Ü–µ—Ä —Ö–∏–º–∏–∫–æ-–±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            "qrf": 1375436644169158699,                 # [üõ°Ô∏è] –ì—Ä—É–ø–ø–∞ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è
            "head": 1375436639832375386,                # [üõ°Ô∏è] –ì–ª–∞–≤–∞ —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        },
    },
    "scd": {
        "group": 1375433025944289350,                   # ‚óÄ‚óÄ  [ü•º] –ù–∞—É—á–Ω–∞—è —Å–ª—É–∂–±–∞  ‚ñ∂‚ñ∂
        "ranks": {
            "researcher": 1375437300065894492,          # [ü•º] –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
            "senior_researcher": 1375437304637952000,   # [ü•º] –°—Ç–∞—Ä—à–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
            "pre_lead_researcher": 1375437307162918922, # [ü•º] –í–µ–¥—É—â–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
            "lead": 1375437301450149938,                # [ü•º] –ù–∞—É—á–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å
        },
    },
    "ms": {
        "group": 1375433515365040178,                   # ‚óÄ‚óÄ  [ü©∫] –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–ª—É–∂–±–∞  ‚ñ∂‚ñ∂
        "ranks": {
            "nurse": 1375437378012975115,               # [ü©∫] –§–µ–ª—å–¥—à–µ—Ä
            "doctor": 1375437373663612938,              # [ü©∫] –í—Ä–∞—á
            "bio_specialist": 1375437371360804874,      # [ü©∫] –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º —É–≥—Ä–æ–∑–∞–º
        },
    },
}

# –ì—Ä—É–ø–ø—ã —Ä–æ–±–ª–æ–∫—Å–∞
roblox_groups = {
    "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–ª—É–∂–±–∞": {
        "group_id": 36048024,
        "roles": {
            "–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞": 395182008,
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä": 394844001,
            "–î–∏—Ä–µ–∫—Ç–æ—Ä –∑–æ–Ω—ã": 393582008,
            "–°–µ–∫—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π": 394564001,
            "–ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—Ü–µ–¥—É—Ä": 393502008,
            "Guest": 394922005,
        }
    },
    "–ù–∞—É—á–Ω–∞—è —Å–ª—É–∂–±–∞": {
        "group_id": 36048147,
        "roles": {
            "–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞": 393878007,
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä": 421480041,
            "–ù–∞—É—á–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å": 394972005,
            "–í–µ–¥—É—â–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å": 394238004,
            "–°—Ç–∞—Ä—à–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å": 394752007,
            "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å": 394450011,
            "Guest": 395124007,
        }
    },
    "–°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏": {
        "group_id": 36046821,
        "roles": {
            "–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞": 391536022,
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä": 390248033,
            "–ì–ª–∞–≤–∞ —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏": 390804016,
            "–û—Ñ–∏—Ü–µ—Ä –≥—Ä—É–ø–ø—ã –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è": 391254016,
            "–û—Ñ–∏—Ü–µ—Ä —Ö–∏–º–∏–∫–æ-–±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏": 390280023,
            "–û—Ñ–∏—Ü–µ—Ä —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏": 390718024,
            "–ö–∞–¥–µ—Ç —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏": 391198024,
            "Guest": 390424024,
        }
    },
    "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–ª—É–∂–±–∞": {
        "group_id": 36048117,
        "roles": {
            "–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞": 394746009,
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä": 420948026,
            "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º —É–≥—Ä–æ–∑–∞–º": 394682005,
            "–í—Ä–∞—á": 394700007,
            "–§–µ–ª—å–¥—à–µ—Ä": 394746010,
            "Guest": 393682009,
        }
    },
}


GROUP_CHOICES = {
    36048024: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–ª—É–∂–±–∞",
    36048147: "–ù–∞—É—á–Ω–∞—è —Å–ª—É–∂–±–∞",
    36046821: "–°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
    36048117: "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–ª—É–∂–±–∞",
}

GROUP_COLORS = {
    36046821: disnake.Color.light_grey(),   # –°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî –∫—Ä–∞—Å–Ω—ã–π
    36048147: disnake.Color.green(),        # –ù–∞—É—á–Ω–∞—è —Å–ª—É–∂–±–∞ ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
    36048117: disnake.Color.purple(),       # –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–ª—É–∂–±–∞ ‚Äî —Å–∏–Ω–∏–π
    36048024: disnake.Color.yellow(),       # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–ª—É–∂–±–∞ ‚Äî –∑–µ–ª—ë–Ω—ã–π
}

# JSON-–æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
SERVICE_ACCOUNT_INFO = {
  "type": "service_account",
  "project_id": "deltaproject-465018",
  "private_key_id": PRIVATE_KEY_ID_GOOGLE,
  "private_key": PRIVATE_KEY_GOOGLE,
  "client_email": "table-control@deltaproject-465018.iam.gserviceaccount.com",
  "client_id": "106683538959980214111",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/table-control%40deltaproject-465018.iam.gserviceaccount.com",
  "universe_domain": "googleapis.com"
}
